# Pre-training Configuration

# Dataset
dataset_type: "sensor"

sensor_data:
  # 複数データセットのパスパターン（globパターン）
  batch_loader:
    dataset_patterns:
      - "/mnt/home/GAE/har-dataset/npy_data_for_pretrain3/DSADS/*/*/data.npy"
      - "/mnt/home/GAE/har-dataset/npy_data_for_pretrain3/MHEALTH/*/*/data.npy"
      - "/mnt/home/GAE/har-dataset/npy_data_for_pretrain3/PAMAP2/*/*/data.npy"

    exclude_patterns: []  # 除外パターン（例: ["USER00001"]）
    sample_threshold: 50  # 最小サンプル数（1ファイルあたり）
    batch_size: 4  # 1バッチに含める被験者（ファイル）数
    train_num_samples: 1000  # エポックあたりのサンプル数
    val_num_samples: 100
    test_num_samples: 100

# Model
model:
  name: "resnet"
  backbone: "resnet"
  feature_dim: 256
  projection_dim: 128

# Multitask Learning
multitask:
  enabled: true
  ssl_tasks: ["binary_permute", "binary_reverse", "binary_timewarp"]
  task_weights: [1.0, 1.0, 1.0]
  apply_prob: 0.5

# Training
training:
  epochs: 100
  learning_rate: 0.001
  weight_decay: 0.0001
  optimizer: "adam"
  scheduler: "cosine"
  warmup_epochs: 10

# Hardware
device: "cuda"
mixed_precision: true

# Checkpointing
checkpoint:
  save_freq: 10
  save_path: "models/pretrained"

# Logging
logging:
  log_interval: 10
  log_dir: "logs/pretrain"

# Weights & Biases
wandb:
  enabled: true
  project: "har-foundation"
  tags: ["pretrain", "multitask"]

# Seed
seed: 42

# Grid Search
grid_search:
  training:
    learning_rate: [0.001]

settings:
  stop_on_error: false
  save_summary: true
  summary_path: "logs/pretrain_experiments_summary.json"
